<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>SrrFlowApp</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>

<body>
  <app-root></app-root>
</body>

</html>

<script>
  // This code loads the IFrame Player API code asynchronously.
  var tag = document.createElement('script');
  tag.src = "https://www.youtube.com/iframe_api";
  var firstScriptTag = document.getElementsByTagName('script')[0];
  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
  let isDone = false;

  // tell angular it youtube is ready
  function onYouTubeIframeAPIReady() {
    isDone = true;
    window.dispatchEvent(new Event('YouTubeIframeAPIReady'));
  }

  // fix race that anglar bootstrap takes longer then youtube iframe loading
  window.addEventListener('AngularSetupDone', _ => isDone ? onYouTubeIframeAPIReady() : void 0);

</script>